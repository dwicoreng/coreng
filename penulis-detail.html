<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CORENG - Detail Penulis</title>
<style>
body { margin:0; padding:0; font-family:'Arial', sans-serif; background:#fff; color:#333; line-height:1.5; }
a { text-decoration:none; color:inherit; }
section { padding:20px; }

/* ===== Navigasi ===== */
nav {
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  background:#2c3e50;
  color:white;
  padding:10px 20px;
  position:sticky;
  top:0;
  z-index:1000;
}
nav .logo { font-weight:bold; font-size:1.2em; }
nav #menuToggle { display:none; font-size:1.5em; cursor:pointer; }
nav .menu { display:flex; flex-wrap:wrap; }
nav .menu a { color:white; margin:5px 10px; font-size:0.9em; }
nav .menu a:hover { text-decoration:underline; }

/* ===== Daftar karya penulis ===== */
#daftarKarya { max-width:700px; margin:20px auto; display:grid; grid-template-columns:1fr; gap:15px; }
.karya-card { background:#f4e6cd; padding:15px; border-radius:8px; cursor:pointer; transition:0.2s; }
.karya-card:hover { background:#e6d0b0; }
.karya-card h3 { margin:0 0 5px 0; font-size:1.1em; }
.karya-card small { font-size:0.8em; color:#555; }
.karya-card .like { margin-top:8px; font-size:0.9em; color:#c0392b; }

/* ===== Footer ===== */
footer { text-align:center; padding:15px; background:#f1f1f1; font-size:0.9em; color:#555; }

/* ===== Mobile ===== */
@media screen and (max-width:700px){
  nav .menu { display:none; width:100%; flex-direction:column; margin-top:10px; }
  nav .menu.show { display:flex; }
}
</style>
</head>
<body>

<nav>
  <div class="logo">CORENG</div>
  <div id="menuToggle">&#9776;</div>
  <div class="menu">
    <a href="index.html">Beranda</a>
    <a href="puisi.html">Puisi</a>
    <a href="cerpen.html">Cerpen</a>
    <a href="likhati.html">Likhati</a>
    <a href="kirim.html">Kirim Karya</a>
    <a href="penulis.html">Penulis</a>
  </div>
</nav>

<section id="daftarKarya">
  <h2 id="namaPenulis"></h2>
  <!-- Karya akan dimuat lewat JS -->
</section>

<footer>© 2026 CORENG - Lorong Literasi Sekolah</footer>

<script>
const url = "https://script.google.com/macros/s/AKfycbwAYPlfKkUQk3-uQUC1XUxUQ-3hqDG2qZWuw0vdOc1ZkGpu8BJe0446yNZUBs0yGL9RPw/exec"; // ganti dengan URL Apps Script

// Toggle menu hamburger
const menuToggle = document.getElementById("menuToggle");
const menu = document.querySelector("nav .menu");
menuToggle.addEventListener("click", ()=> menu.classList.toggle("show"));

// Ambil nama penulis dari parameter URL
const params = new URLSearchParams(window.location.search);
const namaPenulis = params.get("nama") || "";
document.getElementById("namaPenulis").innerText = "Karya oleh: " + namaPenulis;

// Load karya penulis
fetch(url+"?action=getKarya")
.then(res=>res.json())
.then(data=>{
  const karyaPenulis = data.filter(k=>k[2]===namaPenulis && k[7]!=="hapus"); // k[2] = Nama penulis, k[7] = Status
  let html="";
  karyaPenulis.forEach(k=>{
    html+=`<div class="karya-card" onclick="window.location='karya.html?id=${k[0]}'">
             <h3>${k[4]}</h3>
             <small>Jenis: ${k[3]}</small>
             <div class="like">❤️ ${k[10]||0} likes</div>
           </div>`;
  });
  if(html==="") html="<p>Penulis ini belum mengirim karya.</p>";
  document.getElementById("daftarKarya").innerHTML += html;
});
</script>

</body>
</html>
