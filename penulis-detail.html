<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CORENG - Penulis</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="style-mobile.css">
</head>
<body>

<nav>
  <div class="logo">CORENG</div>
  <div id="menuToggle">&#9776;</div>
  <div class="menu">
    <a href="index.html">Beranda</a>
    <a href="puisi.html">Puisi</a>
    <a href="cerpen.html">Cerpen</a>
    <a href="likhati.html">Likhati</a>
    <a href="kirim.html">Kirim Karya</a>
    <a href="penulis.html">Penulis</a>
  </div>
</nav>

<section id="penulisKarya"></section>

<footer>Â© 2026 CORENG - Portal Literasi Sekolah</footer>

<script>
const url = "https://script.google.com/macros/s/AKfycbwAYPlfKkUQk3-uQUC1XUxUQ-3hqDG2qZWuw0vdOc1ZkGpu8BJe0446yNZUBs0yGL9RPw/exec";
const params = new URLSearchParams(window.location.search);
const namaPenulis = params.get("nama")||"";

const menuToggle = document.getElementById("menuToggle");
const menu = document.querySelector("nav .menu");
menuToggle.addEventListener("click", ()=> menu.classList.toggle("show"));

fetch(url+"?action=getKarya")
.then(res=>res.json())
.then(data=>{
  const karyaPenulis = data.filter(k=>k[2]===namaPenulis && k[7]!="hapus");
  let html=`<h2>Karya oleh ${namaPenulis}</h2>`;
  karyaPenulis.forEach(k=>{
    html+=`<div class="karya-card" onclick="location='karya.html?id=${k[0]}'">
             <h3>${k[4]}</h3>
           </div>`;
  });
  if(!karyaPenulis.length) html+="<p>Tidak ada karya.</p>";
  document.getElementById("penulisKarya").innerHTML=html;
});
</script>

</body>
</html>
