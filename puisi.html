<script>
const API_URL = "https://script.google.com/macros/s/AKfycby_M2P-eeuDh4cNIaeNi-WmfKEKLvsHSmHx5Meva-bysSMtIEElRXP5hUmK1mLC1sBRqw/exec";

fetch(API_URL)
  .then(res => res.json())
  .then(data => {

    const box = document.getElementById("karyaList");

    box.innerHTML = "";

    const puisi = data.filter(d =>
      d.status === "Publish" &&
      d.jenis === "Puisi"
    );

    if(puisi.length === 0){
      box.innerHTML = "<p>Belum ada puisi.</p>";
      return;
    }

    puisi.reverse().forEach(d => {

      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <h3>${d.judul}</h3>
        <small>✍️ ${d.nama}</small>
        <p>${d.isi}</p>
      `;

      box.appendChild(card);

    });

  });
</script>
