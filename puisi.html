<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CORENG - Puisi</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="style-mobile.css">
</head>
<body>

<nav>
  <div class="logo">CORENG</div>
  <div id="menuToggle">&#9776;</div>
  <div class="menu">
    <a href="index.html">Beranda</a>
    <a href="puisi.html">Puisi</a>
    <a href="cerpen.html">Cerpen</a>
    <a href="likhati.html">Likhati</a>
    <a href="kirim.html">Kirim Karya</a>
    <a href="penulis.html">Penulis</a>
  </div>
</nav>

<section id="daftarKarya"></section>

<footer>© 2026 CORENG - Portal Literasi Sekolah</footer>

<script>
const url = "https://script.google.com/macros/s/AKfycbwAYPlfKkUQk3-uQUC1XUxUQ-3hqDG2qZWuw0vdOc1ZkGpu8BJe0446yNZUBs0yGL9RPw/exec";
const jenisKarya = "puisi";

const menuToggle = document.getElementById("menuToggle");
const menu = document.querySelector("nav .menu");
menuToggle.addEventListener("click", ()=> menu.classList.toggle("show"));

fetch(url+"?action=getKarya")
.then(res=>res.json())
.then(data=>{
  const daftar = data.filter(k=>k[3]===jenisKarya && k[7]!="hapus");
  let html="";
  daftar.forEach(k=>{
    html+=`<div class="karya-card" onclick="location='karya.html?id=${k[0]}'">
             <h3>${k[4]}</h3>
             <small>✍ ${k[2]}</small>
             <div>❤️ ${k[10]||0} likes</div>
           </div>`;
  });
  if(!html) html="<p>Belum ada puisi.</p>";
  document.getElementById("daftarKarya").innerHTML=html;
});
</script>

</body>
</html>
