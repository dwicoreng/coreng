<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CORENG - Penulis</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="style-mobile.css">
</head>
<body>

<nav>
  <div class="logo">CORENG</div>
  <div id="menuToggle">&#9776;</div>
  <div class="menu">
    <a href="index.html">Beranda</a>
    <a href="puisi.html">Puisi</a>
    <a href="cerpen.html">Cerpen</a>
    <a href="likhati.html">Likhati</a>
    <a href="kirim.html">Kirim Karya</a>
    <a href="penulis.html">Penulis</a>
  </div>
</nav>

<section id="daftarPenulis"></section>

<footer>Â© 2026 CORENG - Portal Literasi Sekolah</footer>

<script>
const url = "https://script.google.com/macros/s/AKfycbwAYPlfKkUQk3-uQUC1XUxUQ-3hqDG2qZWuw0vdOc1ZkGpu8BJe0446yNZUBs0yGL9RPw/exec";

const menuToggle = document.getElementById("menuToggle");
const menu = document.querySelector("nav .menu");
menuToggle.addEventListener("click", ()=> menu.classList.toggle("show"));

fetch(url+"?action=getKarya")
.then(res=>res.json())
.then(data=>{
  const penulisMap = {};
  data.forEach(k=>{
    if(k[7]!="hapus" && !penulisMap[k[2]]){
      penulisMap[k[2]] = k[9]||"";
    }
  });

  let html="";
  Object.keys(penulisMap).forEach(n=>{
    html+=`<div class="penulis-card" onclick="location='penulis-detail.html?nama=${encodeURIComponent(n)}'">
             <h3>${n}</h3>
           </div>`;
  });
  if(!html) html="<p>Belum ada penulis.</p>";
  document.getElementById("daftarPenulis").innerHTML=html;
});
</script>

</body>
</html>
